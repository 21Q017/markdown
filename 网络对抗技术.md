2022.3.10

# 笔记

## 杀伤链模型kill chain

侦察跟踪->武器构建(木马,钓鱼文档)->载荷投递->漏洞利用(在计算机上运营)->安装植入->命令控制(command & control)->目标达成

## windows口令在SAM

包括LM hash、NTLM hash 

其中NTLM hash MD4 的哈希破解可以用彩虹表（rainbow Table）

但是可以通过加盐来增加密码复杂度（Slat）

在线的破解中salt起到的作用就相对比较小了

在线的破解防护：使用验证码，限制输入次数

## linux口令在Shadow里



# 术语

###### 木马

主要在于控制性。[木马百度百科](https://baike.baidu.com/item/%E6%9C%A8%E9%A9%AC%E7%97%85%E6%AF%92/333298)

###### 后门

是主动植入的能够访问的方法

###### 病毒

感染性，感染其他文件

###### 蠕虫

传播性

###### 0Day和1Day

0Day操作系统没有补好的漏洞

1Day发布过漏洞补丁的漏洞

CVE国际标准

###### DoS和DDoS[Dos](https://baike.baidu.com/item/dos/5104226#viewPageContent)

Dos拒绝服务

DDos分布式拒绝服务

###### MITM(man in the middle)

[中间人攻击](https://baike.baidu.com/item/MITMA/1716845)



###### 侧信道攻击

利用光,声波,磁场等方式获取信息,甚至利用功耗来推测.

###### rootkit

隐藏技术







# 网络攻击类型

1.阻断   O->| O

2.截取   

3.篡改

4.伪造



# 渗透测试

- 黑盒测试
- 白盒测试
- 灰盒测试



# 信息安全基本要素

| 完整性     |      |
| ---------- | ---- |
| 保密性     |      |
| 可用性     |      |
| 可控性     |      |
| 不可否认性 |      |

 

# 网安主要负责的案件类型

1.侵犯公民个人信息

2.组织考试作弊

3.非法出售,提供试卷答案

4.非法侵入计算机系统

5.非法获取计算机信息系统数据,非法控制

6.提供侵入,非法控制计算机信息系统程序,工具案

7.破坏计算机信息系统

8.拒不履行信息网络安全管理义务

9.非法利用信息网络

10.帮助信息网络犯罪活动

11.编造,故意传播虚假信息



# 网路安全防御

- 完善安全管理制度

- 访问控制

- 数据加密

  1.数据传输加密

  2.数据储存加密

  3.数据完整性鉴别

  4.密钥管理

- 数据备份与恢复

# 网络安全体系层次



# 纵深防御策略

预警>保护>检测>响应>恢复>反击









# 网络侦察技术

## 虚拟机配置网络

NAT

bridge

hostonly  虚拟机互通

## 侦察方法:搜索语法(高级搜索语法)

``intitle+搜索名``:按照标题包含的关键词搜索

`` intitle + 搜索名 + site: 网络地址 + filetype.类型 + inurl: 关键词``

https://www.exploit-db.com/google-hacking-database

该网站收集了一些收集网站的搜索语法(漏洞标记)

## 网络空间搜索引擎(搜索设备)

FOFA 

ZoomEye

JAWS

admin

- ``httrack``可以干好多事情,快速启动网站
- windows:Teleport_Ultra 镜像整个网站
- python -m SimpleHTTPServer: 提取邮件头信息    
- CS:``cobaltstrike`` :可以做钓鱼网站,也可以弄木马

## 邮件安全(可以作为科研方向)



![Screenshot_20220317_141306](/home/mhy/图片/Screenshot_20220317_141306.png)

其中的DKIM是保证邮件内容的完整性,spf和

s=pf2014可以查到公钥

``whatweb``

``nikto``

## DNS

解析dns时在host中找到ip

`` dig``ntslookup一样

# 网络扫描技术

RDP一般在3389端口

## 扫描器

工作原理是扫描器向目标计算机发送数据包，然后根据对方反馈的信息来判断对方的操作系统类型、开发端口、提供的服务等敏感信息。

会识别主机开关机,端口状态,操作系统,服务程序,漏洞扫描

`` ping或者nmap`

``nessus 5``(漏扫软件)

### 主机扫描

ARP:内网的发现协议

CDN:内容分发网络,当ping的时候会ping到最近的ip地址,而不一定是公司所在的ip地址。(DNS解析)

要是想查找CDN所在的真实ip,可以先订阅在让其发邮件(看信头)

### 端口扫描

Nmap

可以扫描大部分信息

#### 全链接扫描(三次握手)nmap -sT ip

#### 隐蔽扫描syn扫描(三次握手)nmap -sS ip

一般只会扫一些常用端口:特征:RST SYN ACK 证明是隐蔽扫描

不会被防火墙和日志所记录,一般不会留下痕迹

其他端口扫描方式(大部分都是发一个包,然后返回)

### 代理扫描

例如站长之家

### wireshark抓包

先分级

Telnet中有登陆信息

wireshark的一些筛选命令

## OS(操作系统)类型探测

TTL值:每到一个路由器会减1,不同的操作系统初始值不一样

nmap -o

只是有一定的概率正确

## 系统漏洞探测

第一种版本匹配(不一定真实可用)

第二种模拟攻击()慢

nmap --script=smb-brute.nes

里面有各种漏洞(漏洞插件)

工具nmap,goby

## 扫描防御技术

减少开放端口

伪装知名端口

实时检测扫描

## 防火墙技术(审计技术)

